<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.test.goal.dao.MemberMapper">
	<!-- Member 쿼리 작성자 = 윤선영 -->
	
	<!-- 회원가입 -->
	<insert id="join" parameterType="MemberVO">
		insert into Member values (#{userid}, #{password}, #{email}, #{tel1}, #{tel2}, #{tel3} <if test="image != null">, #{image}</if>)
	</insert>
	
	<!-- 로그인 -->
	<select id="login" parameterType="MemberVO" resultType="MemberVO">
		select * from Member where userid = #{userid}
		<if test="password != null">and password = #{password}</if> <!-- 동적쿼리(중복확인) --> 
	</select>
	
	<!-- 회원정보수정 -->
	<update id="updateMember" parameterType="MemberVO">
		update Member set userid = #{userid}, password = #{password}, email = #{email}, tel1 = #{tel1}, tel2 = #{tel2}, tel3 = #{tel3}
		<if test="image != null">, image = #{image}</if>
			where userid = #{userid} 	
	</update>
	
	<!-- ID/PWD 찾기 -->
	<select id="find" parameterType="string" resultType="MemberVO">
		select * from Member where email = #{email}
	</select>
	
	<!-- 회원목록 -->
	<select id="memberList" parameterType="MemberVO" resultType="MemberVO">
		select * from Member where userid = #{userid}
	</select>
	
</mapper>